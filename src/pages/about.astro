---
import Base from "../layouts/Base.astro";
import { Picture } from "astro:assets";
import logo from "../assets/logo.avif";
import CTASection from "../components/common/CTASection.astro";
import { Icon } from "astro-icon/components";
import ScrollReveal from "../components/ui/ScrollReveal.astro";
import TiltCard from "../components/ui/TiltCard.astro";

const title = "√Ä propos de moi";
const description =
  "Vid√©aste, Photographe & D√©veloppeur Web. Je cr√©e des exp√©riences visuelles et digitales uniques.";

const services = [
  {
    title: "Production Vid√©o",
    description:
      "Clips, aftermovies, corporate. Je capture l'√©nergie de l'instant avec une esth√©tique cin√©matographique.",
    icon: "mdi:video-vintage",
    color: "text-purple-500",
    gradient: "from-purple-500/20 to-purple-600/10",
  },
  {
    title: "D√©veloppement Web",
    description:
      "Applications web complexes, SaaS, E-commerce. Des solutions robustes, modernes et sur-mesure.",
    icon: "mdi:code-tags",
    color: "text-blue-500",
    gradient: "from-blue-500/20 to-blue-600/10",
  },
  {
    title: "Photographie",
    description:
      "Portraits, √©v√©nements, lifestyle. Des images qui racontent une histoire et subliment votre image.",
    icon: "mdi:camera",
    color: "text-pink-500",
    gradient: "from-pink-500/20 to-pink-600/10",
  },
  {
    title: "Strat√©gie Digitale",
    description:
      "SEO, SEA, Social Ads. Je booste votre visibilit√© en ligne avec des strat√©gies d'acquisition cibl√©es.",
    icon: "mdi:google-analytics",
    color: "text-orange-500",
    gradient: "from-orange-500/20 to-orange-600/10",
  },
];

const skills = [
  { name: "Astro", icon: "mdi:rocket-launch" },
  { name: "React", icon: "mdi:react" },
  { name: "Tailwind CSS", icon: "mdi:tailwind" },
  { name: "TypeScript", icon: "mdi:language-typescript" },
  { name: "DaVinci Resolve", icon: "mdi:video-vintage" },
  { name: "Lightroom", icon: "mdi:image-edit" },
  { name: "Sony FX3", icon: "mdi:video-box" },
  { name: "Google Ads", icon: "mdi:google-ads" },
  { name: "Meta Ads", icon: "mdi:facebook" },
  { name: "SEO", icon: "mdi:chart-line" },
];
---

<Base postData={{ data: { title, description } }}>
  <!-- Hero Section -->
  <section class="relative pt-32 pb-20 overflow-hidden">
    <!-- Animated background elements -->
    <div class="absolute inset-0 -z-10 motion-reduce:hidden">
      <div
        class="absolute top-20 right-1/4 w-64 h-64 bg-pacamara-secondary/20 rounded-full blur-3xl floating"
      >
      </div>
      <div
        class="absolute bottom-20 left-1/4 w-96 h-96 bg-pacamara-accent/20 rounded-full blur-3xl floating-slow floating-delayed"
      >
      </div>
    </div>

    <div class="container mx-auto px-7">
      <div class="flex flex-col lg:flex-row items-center gap-12 lg:gap-24">
        <!-- Image / Visual -->
        <ScrollReveal
          direction="left"
          class="w-full lg:w-1/2 order-2 lg:order-1"
        >
          <div
            class="relative aspect-4/5 w-full max-w-md mx-auto md:max-w-none rounded-2xl overflow-hidden shadow-2xl group z-10"
          >
            <div
              class="absolute inset-0 rounded-2xl overflow-hidden image-zoom"
            >
              <Picture
                src={logo}
                widths={[350, 700]}
                sizes="(max-width: 768px) 100vw, 350px"
                formats={["avif", "webp"]}
                fallbackFormat="webp"
                width={350}
                height={438}
                alt="Samuel Dulex"
                class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
                quality={75}
                loading="eager"
                decoding="sync"
                fetchpriority="high"
              />
            </div>
            <div
              class="absolute inset-0 bg-linear-to-t from-black/60 via-transparent to-transparent opacity-60 group-hover:opacity-40 transition-opacity duration-500"
            >
            </div>

            <!-- Floating Badge -->
            <div
              class="absolute bottom-8 left-8 bg-white/10 backdrop-blur-md border border-white/20 px-6 py-3 rounded-full text-white font-pacamara-space text-sm flex items-center gap-2"
            >
              <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"
              ></span>
              <span role="img" aria-label="Localisation">üìç</span> Bas√© en Suisse
            </div>
          </div>

          <!-- Decorative elements -->
          <div
            class="absolute -bottom-10 -right-10 w-40 h-40 bg-pacamara-accent/20 rounded-full blur-3xl -z-10"
          >
          </div>
          <div
            class="absolute -top-10 -left-10 w-40 h-40 bg-pacamara-secondary/20 rounded-full blur-3xl -z-10"
          >
          </div>
        </ScrollReveal>

        <!-- Content -->
        <div class="w-full lg:w-1/2 order-1 lg:order-2 lg:pl-12">
          <ScrollReveal>
            <div
              class="inline-block px-4 py-2 rounded-full bg-pacamara-secondary/10 text-pacamara-secondary dark:text-pacamara-accent font-bold text-sm mb-6"
            >
              <span role="img" aria-label="Salut">üëã</span> Enchant√©, moi c'est Samuel
            </div>
          </ScrollReveal>

          <ScrollReveal delay={0.1}>
            <h1
              class="font-pacamara-space font-bold text-5xl md:text-6xl mb-8 text-pacamara-dark dark:text-white leading-tight"
            >
              Cr√©ateur Visuel & <br />
              <span class="text-shimmer">Strat√®ge Digital.</span>
            </h1>
          </ScrollReveal>

          <ScrollReveal delay={0.2}>
            <div
              class="prose prose-lg text-pacamara-primary/80 dark:text-white/80 font-outfit font-light mb-10"
            >
              <p>
                Je ne me contente pas de capturer des images, je construis des
                exp√©riences.
              </p>
              <p>
                Mon parcours est hybride : √† la crois√©e de l'art visuel, du code
                et du marketing. D'un c√¥t√©, je r√©alise des contenus qui marquent
                les esprits. De l'autre, je con√ßois des √©cosyst√®mes digitaux
                performants pour les diffuser.
              </p>
              <p>
                <strong>Mon objectif ?</strong> Vous offrir une vision 360¬∞ : du concept
                cr√©atif √† la conversion client.
              </p>
            </div>
          </ScrollReveal>

          <!-- Tech Stack / Skills -->
          <ScrollReveal delay={0.3}>
            <ul
              class="flex flex-wrap gap-3 mb-10 list-none p-0 [content-visibility:auto] [contain-intrinsic-size:auto_100px]"
            >
              {
                skills.map((skill, index) => (
                  <li
                    class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-pacamara-primary/5 dark:bg-white/5 border border-pacamara-primary/10 dark:border-white/10 text-sm font-medium text-pacamara-primary dark:text-white/80 hover:bg-pacamara-primary/10 dark:hover:bg-white/10 transition-all duration-300 hover:scale-105 hover:shadow-md"
                    style={`animation-delay: ${index * 0.05}s`}
                  >
                    <Icon
                      name={skill.icon}
                      class="w-5 h-5 icon-animate"
                      aria-hidden="true"
                    />
                    {skill.name}
                  </li>
                ))
              }
            </ul>
          </ScrollReveal>

          <ScrollReveal delay={0.4}>
            <div class="flex flex-wrap gap-4">
              <a
                href="#contact-form"
                class="inline-flex items-center gap-2 px-6 py-3 bg-pacamara-accent text-white rounded-full font-bold shadow-lg hover:shadow-glow hover-lift transition-all duration-300 active:scale-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-pacamara-accent focus-visible:ring-offset-2"
              >
                Me contacter
              </a>
              <a
                href="/project"
                class="px-8 py-4 border border-pacamara-primary/20 dark:border-white/20 text-pacamara-primary dark:text-white rounded-full font-bold text-lg hover:bg-pacamara-primary/5 dark:hover:bg-white/10 transition-all duration-300 active:scale-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-pacamara-accent focus-visible:ring-offset-2"
              >
                Voir mon portfolio
              </a>
            </div>
          </ScrollReveal>
        </div>
      </div>
    </div>
  </section>

  <!-- Services Section -->
  {
    /* ‚ö° Bolt: Performance Optimization - content-visibility skips rendering when off-screen */
  }
  <section
    class="py-24 relative overflow-hidden [content-visibility:auto] [contain-intrinsic-size:auto_800px]"
  >
    <!-- Subtle background gradient -->
    <div
      class="absolute inset-0 bg-linear-to-b from-transparent via-pacamara-secondary/5 to-transparent -z-10 pointer-events-none"
    >
    </div>

    <div class="container mx-auto px-7 relative z-10">
      <ScrollReveal class="text-center max-w-3xl mx-auto mb-20">
        <h2
          class="text-3xl md:text-5xl font-pacamara-space font-bold mb-6 text-pacamara-dark dark:text-white"
        >
          Une approche <span class="text-shimmer">360¬∞</span>
        </h2>
        <p
          class="text-lg text-pacamara-primary/70 dark:text-white/70 font-outfit"
        >
          Pourquoi multiplier les prestataires quand on peut avoir une vision
          unifi√©e ? Je combine mes comp√©tences pour cr√©er une coh√©rence parfaite
          entre votre image et votre strat√©gie de croissance.
        </p>
      </ScrollReveal>

      <ul class="grid grid-cols-1 md:grid-cols-2 gap-8 list-none p-0">
        {
          services.map((service, index) => (
            <li class="h-full">
              <ScrollReveal delay={0.15 * index} class="h-full">
                <TiltCard class="h-full bg-white dark:bg-pacamara-dark/80 border border-pacamara-secondary/10 dark:border-white/5 rounded-3xl p-8 md:p-10 shadow-lg card-glow group">
                  <div
                    class={`absolute inset-0 bg-linear-to-br ${service.gradient} opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-3xl`}
                  />
                  <div class="relative z-10">
                    <div
                      class={`w-16 h-16 rounded-2xl flex items-center justify-center mb-8 ${service.color} bg-current/10 group-hover:scale-110 transition-transform duration-300`}
                    >
                      <Icon
                        name={service.icon}
                        class="w-8 h-8 icon-animate"
                        aria-hidden="true"
                      />
                    </div>
                    <h3 class="text-2xl font-bold font-pacamara-space mb-4 text-pacamara-dark dark:text-white">
                      {service.title}
                    </h3>
                    <p class="text-pacamara-primary/70 dark:text-white/70 font-outfit leading-relaxed text-lg">
                      {service.description}
                    </p>
                  </div>
                </TiltCard>
              </ScrollReveal>
            </li>
          ))
        }
      </ul>
    </div>
  </section>

  <CTASection />
</Base>

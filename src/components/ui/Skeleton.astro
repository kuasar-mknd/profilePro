---
/**
 * Skeleton loading component for content placeholders.
 * Provides shimmer animation while content loads.
 */
interface Props {
  width?: string;
  height?: string;
  rounded?: "none" | "sm" | "md" | "lg" | "full";
  class?: string;
}

const {
  width = "100%",
  height = "1rem",
  rounded = "md",
  class: className = "",
} = Astro.props;

const roundedClasses = {
  none: "",
  sm: "rounded",
  md: "rounded-lg",
  lg: "rounded-xl",
  full: "rounded-full",
};
---

<div
  class:list={["skeleton", roundedClasses[rounded], className]}
  style={`width: ${width}; height: ${height};`}
  role="status"
  aria-hidden="true"
>
</div>

<style>
  .skeleton {
    background: linear-gradient(
      90deg,
      var(--color-pacamara-primary, #1a1a2e) 0%,
      rgba(255, 255, 255, 0.1) 20%,
      rgba(255, 255, 255, 0.15) 60%,
      var(--color-pacamara-primary, #1a1a2e) 100%
    );
    background-size: 200% 100%;
    animation: skeleton-shimmer 1.5s ease-in-out infinite;
  }

  :global(.dark) .skeleton {
    background: linear-gradient(
      90deg,
      rgba(255, 255, 255, 0.05) 0%,
      rgba(255, 255, 255, 0.1) 20%,
      rgba(255, 255, 255, 0.15) 60%,
      rgba(255, 255, 255, 0.05) 100%
    );
    background-size: 200% 100%;
  }

  @keyframes skeleton-shimmer {
    0% {
      background-position: 200% 0;
    }
    100% {
      background-position: -200% 0;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .skeleton {
      animation: none;
      background: rgba(255, 255, 255, 0.1);
    }
  }
</style>

---
import ContactForm from "./ContactForm.astro";
import ScrollReveal from "../ui/ScrollReveal.astro";
---

{
  /* ⚡ Bolt: Performance Optimization - content-visibility skips rendering when off-screen */
}
<section
  class="relative pt-32 pb-24 overflow-hidden [content-visibility:auto] [contain-intrinsic-size:auto_500px]"
  id="cta-section"
>
  <!-- Animated Gradient Background -->
  <div class="absolute inset-0 -z-10">
    <div
      class="absolute inset-0 bg-linear-to-b from-transparent via-pacamara-secondary/5 to-pacamara-secondary/10 dark:from-transparent dark:via-pacamara-dark/50 dark:to-pacamara-dark"
    >
    </div>

    <!-- Floating decorative elements -->
    <div class="motion-reduce:hidden">
      <div
        class="absolute top-20 left-10 w-20 h-20 rounded-full bg-pacamara-accent/20 blur-xl floating"
      >
      </div>
      <div
        class="absolute top-40 right-20 w-32 h-32 rounded-full bg-pacamara-secondary/20 blur-xl floating-slow floating-delayed"
      >
      </div>
      <div
        class="absolute bottom-20 left-1/4 w-24 h-24 rounded-full bg-purple-500/20 blur-xl floating delay-1000"
      >
      </div>
      <div
        class="absolute bottom-40 right-1/3 w-16 h-16 rounded-full bg-pink-500/20 blur-xl floating-slow delay-3000"
      >
      </div>

      <!-- Large gradient orb (Optimized) -->
      <div
        class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] rounded-full blur-2xl pointer-events-none will-change-transform bg-pacamara-secondary/20 opacity-20 dark:opacity-10 animate-pulse duration-4s"
      >
      </div>
    </div>
  </div>

  <div class="container mx-auto px-7 relative z-10">
    <div class="grid lg:grid-cols-2 gap-12 lg:gap-20 items-center">
      <ScrollReveal direction="left">
        <div class="text-center lg:text-left">
          <h2
            class="text-4xl md:text-5xl lg:text-6xl font-pacamara-space font-bold mb-6 leading-tight text-pacamara-dark dark:text-white"
          >
            Prêt à donner vie à <br />
            <span class="text-shimmer"> votre vision ? </span>
          </h2>
          <p
            class="text-xl text-pacamara-primary/80 dark:text-white/80 font-outfit mb-4 leading-relaxed"
          >
            Que ce soit pour une vidéo percutante, un site web moderne ou une
            stratégie digitale complète, je suis là pour vous accompagner.
          </p>
          <p
            class="text-sm text-pacamara-primary/60 dark:text-white/60 font-outfit mb-10 flex items-center justify-center lg:justify-start gap-2"
          >
            <span
              class="inline-block w-2 h-2 rounded-full bg-green-500 animate-pulse motion-reduce:animate-none"
              role="img"
              aria-label="Statut : Disponible"
              title="Statut : Disponible"></span>
            Basé à Lausanne, disponible dans toute la Suisse romande
          </p>

          <div
            class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start"
          >
            <a
              href="/project"
              class="px-8 py-4 border-2 border-pacamara-accent text-pacamara-accent rounded-full font-bold text-lg hover:bg-pacamara-accent hover:text-white transition-all duration-300 hover:shadow-glow-accent active:scale-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-pacamara-accent focus-visible:ring-offset-2"
            >
              Voir mes réalisations
            </a>
          </div>
        </div>
      </ScrollReveal>

      <ScrollReveal direction="right" delay={0.2}>
        <div class="w-full">
          <ContactForm />
        </div>
      </ScrollReveal>
    </div>
  </div>
</section>

<style>
  /* Additional floating animation variations */
  @keyframes float-rotate {
    0%,
    100% {
      transform: translateY(0) rotate(0deg);
    }
    50% {
      transform: translateY(-15px) rotate(5deg);
    }
  }
</style>

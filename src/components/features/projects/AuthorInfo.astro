---
import { Picture } from "astro:assets";
const { authorData } = Astro.props;
---

{
  /* âš¡ Bolt: Performance Optimization - content-visibility skips rendering when off-screen */
}
<section
  class="mx-auto max-w-5xl my-16 p-8 md:p-12 rounded-3xl bg-white dark:bg-pacamara-dark/50 border border-pacamara-secondary/10 dark:border-white/5 shadow-lg flex flex-col md:flex-row gap-8 items-center md:items-start [content-visibility:auto] [contain-intrinsic-size:auto_300px]"
>
  <div class="shrink-0">
    {
      authorData.data.photo && (
        <div class="relative group">
          <div class="absolute inset-0 bg-pacamara-accent/20 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500" />
          <Picture
            src={authorData.data.photo}
            widths={[120, 240]}
            sizes="(max-width: 768px) 120px, 120px"
            formats={["avif", "webp"]}
            fallbackFormat="webp"
            alt={authorData.data.displayName}
            width={120}
            height={120}
            class="relative z-10 rounded-full border-4 border-white dark:border-pacamara-secondary shadow-md hover:scale-105 transition-transform duration-300 object-cover w-[120px] h-[120px]"
            loading="lazy"
            decoding="async"
            fetchpriority="low"
          />
        </div>
      )
    }
  </div>

  <div class="flex-1 text-center md:text-left">
    <h3
      class="text-2xl font-bold font-pacamara-space text-pacamara-dark dark:text-white mb-3"
    >
      {authorData.data.displayName}
    </h3>
    <div
      class="prose prose-lg dark:prose-invert max-w-none
              prose-p:text-pacamara-primary/80 dark:prose-p:text-white/80
              prose-p:font-outfit prose-p:leading-relaxed"
    >
      <p>{authorData.data.bio}</p>
    </div>
    <div class="mt-6">
      <a
        href="/about"
        class="inline-flex items-center gap-2 text-pacamara-accent font-bold hover:text-pacamara-secondary transition-colors group focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-pacamara-accent focus-visible:ring-offset-2 rounded-lg p-1 -m-1"
      >
        En savoir plus
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5 transform group-hover:translate-x-1 transition-transform"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          aria-hidden="true"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
        </svg>
      </a>
    </div>
  </div>
</section>
<div class="w-full h-[3px] overflow-hidden gradient-line"></div>
